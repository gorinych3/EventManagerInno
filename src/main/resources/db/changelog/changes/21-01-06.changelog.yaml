databaseChangeLog:
  - changeSet:
      id: createActions
      author: egor.ganzya
      changes:
        - sql:
            sql: create table actions
              (
              action_id       bigint generated by default as identity
              constraint actions_pkey
              primary key,
              action_name     varchar(255),
              description     varchar(255),
              players_on_team integer not null,
              teams           integer not null
              );
  - changeSet:
      id: alterEventsAddAction
      author: egor.ganzya
      changes:
        - sql:
            sql: alter table events add column action_id bigint constraint event_action references actions;
  - changeSet:
      id: createTeams
      author: egor.ganzya
      changes:
        - sql:
            sql: create table teams
              (
              team_id   bigint generated by default as identity
              constraint teams_pkey
              primary key,
              team_name varchar(255)
              );
  - changeSet:
      id: createTeams_Users
      author: egor.ganzya
      changes:
        - sql:
            sql: create table teams_users
              (
              team_id bigint not null
              constraint fk17jdrnq003lyba5o79uruykxt
              references users,
              user_id bigint not null
              constraint fkp8xgd2icm3bw9w9foklf2cr6i
              references teams,
              constraint teams_users_pkey
              primary key (user_id, team_id)
              );
  - changeSet:
      id: createPlayActions
      author: egor.ganzya
      changes:
        - sql:
            sql: create table play_actions
              (
              play_action_id bigint generated by default as identity
              constraint play_actions_pkey
              primary key,
              action_id      bigint
              constraint fkm4bt2featnbo7g0m36sdyy7o6
              references actions,
              master_team_id bigint
              constraint fks9bcjy9rnmav5j05mp1k9a0ck
              references teams,
              slave_team_id  bigint
              constraint fk2hv9fysrlblgiu7vh8od80p5y
              references teams
              );